{% extends 'base.html' %}
{%load bootstrap4 %}
{% block title %}ComeTchÊ | Comidas{% endblock %}
{% block css %}/static/css/comidas/styles.css{% endblock %}
{% block content %}
<header id="food">
    <nav class="menu">
        <ul>
            <li class="drinks-a"><a href="{% url 'bebidas' %}">Bebidas</a></li>
            <li class="pizzas-a"><a href="{% url 'pizzas' %}">Pizzas</a></li>
            <li class="food-a"><a href="{% url 'comidas' %}">Comidas</a></li>
        </ul>
    </nav>
</header>
<section id="food-s">
    <main>
        {% if messages %}
            {%for m in messages %}
                <div class="message">
                    <p>{{ m }}</p>
                </div>
            {% endfor %}
        {% endif %}

        <a href="{% url 'carrinho' %}">
            <div class="car">
                <img src="../static/images/car2.png" alt="Carrinho" id="cart">
            </div>
        </a>
        <form action="{% url 'comidas' %}" class="content" method="POST" id="ask">
            {% csrf_token %}
            <div id="pizzas-content">
                <div class="pizza" id="p1">
                    <div id="flavors">
                        <select class="select" name="flavor1_1" id="flavor-1">
                            <optgroup label="Sabor 1">
                                {% for pizza in pizzas %}
                                {% if pizza.estoque %}
                                <option value="{{ pizza.produto }}">{{ pizza.produto }}</option>
                                {% endif %}
                                {% endfor %}
                            </optgroup>
                        </select>

                        <select class="select" name="flavor2_1" id="flavor-2">
                            <optgroup label="Sabor 2">
                                {% for pizza in pizzas %}
                                {% if pizza.estoque %}
                                <option value="{{ pizza.produto }}">{{ pizza.produto }}</option>
                                {% endif %}
                                {% endfor %}
                            </optgroup>
                        </select>
                    </div>
                    <div class="flavors-images">
                        <div class="img-1">
                            <img src="../static/images/pizza.jpg" id="img-p1" alt="Image 1">
                        </div>
                        <div class="img-2">
                            <img src="../static/images/pizza2.jpg" id="img-p2" alt="Image 2">
                        </div>
                    </div>

                    <ul class="sizes">

                        <li class="fam" id="fam1">
                            <label for="check-f1">
                                <div class="content-sizes">
                                    <span class="type">Família</span> <span class="price">R${{ price.preco_f }}</span><input type="checkbox" class="box" id="check-f1" name="f1" value="family, {{ price.preco_f }}">
                                    <div id="amount_f1"></div>
                                </div>
                            </label>
                        </li>

                        <li class="big" id="big1">
                            <label for="check-b1">
                                <div class="content-sizes">
                                    <span class="type">Grande</span> <span class="price">R${{ price.preco_g }}</span><input type="checkbox" class="box" id="check-b1" name="b1" value="big, {{ price.preco_g }}">
                                    <div id="amount_b1"></div>
                                </div>
                            </label>
                        </li>

                        <li class="ave" id="ave1">
                            <label for="check-a1">
                                <div class="content-sizes">
                                    <span class="type">Média</span> <span class="price">R${{ price.preco_a }}</span><input type="checkbox" class="box" id="check-a1" name="a1" value="average, {{ price.preco_a }}">
                                    <div id="amount_a1"></div>
                                </div>
                            </label>
                        </li>

                        <li class="sam" id="sam1">
                            <label for="check-s1">
                                <div class="content-sizes">
                                    <span class="type">Pequena</span> <span class="price">R${{ price.preco_p }}</span><input type="checkbox" class="box" id="check-s1" name="s1" value="small, {{ price.preco_p }}">
                                    <div id="amount_s1"></div>
                                </div>
                            </label>
                        </li>

                        <li class="min" id="min1">
                            <label for="check-m1">
                                <div class="content-sizes">
                                    <span class="type">Mini</span> <span class="price">R${{ price.preco_m }}</span><input type="checkbox" class="box" id="check-m1" name="m1" value="mini, {{ price.preco_m }}">
                                    <div id="amount_m1"></div>
                                </div>
                            </label>
                        </li>

                    </ul>
                </div>
            </div>

            <div class="more">
                <button type="button" id="one-more">+</button>
            </div>

            <div class="soda-content">
                <p id="soda-title">Refrigerantes</p>
                <!-- For com todos os refris-->

                <div class="soda">
                    <div id="more-than-1l">
                        <details>
                            <summary>1L</summary>
                            {% for so in soda %}
                                {% if so.tipo == '1 l' and so.estoque == True %}
                                <div class="flavor-soda">
                                    <p>{{ so.produto }} - R${{ so.preco }}</p><input type="number" name="soda_1l{{ so.produto }}, 1L, {{ so.preco }}" min="1">
                                </div>
                                {% endif %}
                            {% endfor %}
                        </details>

                        <details>
                            <summary>2L</summary>
                            {% for so in soda %}
                                {% if so.tipo == '2 l' and so.estoque == True %}
                                <div class="flavor-soda">
                                    <p>{{ so.produto }} - R${{ so.preco }}</p><input type="number" name="soda_2l{{ so.produto }}, 2L, {{ so.preco }}" min="1">
                                </div>
                                {% endif %}
                            {% endfor %}
                        </details>
                    </div>
                    <div id="lass-than-1l">
                        <details>
                            <summary>KS</summary>
                            {% for so in soda %}
                                {% if so.tipo == 'KS' and so.estoque == True %}
                                <div class="flavor-soda">
                                    <p>{{ so.produto }} - R${{ so.preco }}</p><input type="number" name="soda_ks{{ so.produto }}, KS, {{ so.preco }}" min="1">
                                </div>
                                {% endif %}
                            {% endfor %}
                        </details>

                        <details>
                            <summary>Mini</summary>
                            {% for so in soda %}
                                {% if so.tipo == 'Pequena' and so.estoque == True %}
                                <div class="flavor-soda">
                                    <p>{{ so.produto }} - R${{ so.preco }}</p><input type="number" name="soda_mi{{ so.produto }}, Mini, {{ so.preco }}" min="1">
                                </div>
                                {% endif %}
                            {% endfor %}
                        </details>
                    </div>
                </div>
            </div>

            <div class="date">
                <p>Horário</p>
                <input type="datetime-local" id="datetime" name="request_date"equired>
            </div>

            <div id="order-pizza">
                <button disabled="true">Pedir</button>
            </div>
        </form>
    </main>
</section>
{% endblock %}